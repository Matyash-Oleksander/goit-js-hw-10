{"mappings":"AAEA,SAASA,EAAeC,GAEtB,OAAOC,MADK,uCAAuCD,oDACjCE,MAAKC,IACrB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,UCGpB,MAEMC,EAAaC,SAASC,cAAc,eACpCC,EAAcF,SAASC,cAAc,iBACrCE,EAAcH,SAASC,cAAc,iBAE3CF,EAAWK,iBAAiB,SAW5B,SAAkBC,GAChBA,EAAIC,iBACJC,QAAQC,IAAI,WAEZ,MAAMjB,EAAOQ,EAAWU,MAExB,GAAa,KAATlB,EACF,OAAOW,EAAaQ,UAAY,GAAMP,EAAYO,UAAY,GAEhEpB,EAAeC,GACZE,MAAKC,IACJQ,EAAYQ,UAAY,GACxBP,EAAYO,UAAY,GACxBH,QAAQC,IAAId,GAERA,EAASiB,OAAS,IAIpBJ,QAAQC,IACN,8DAEFD,QAAQC,IAAI,UAAWd,IACdA,EAASiB,OAAS,IAAMjB,EAASiB,QAAU,EACpDT,EAAYU,mBACV,YACkBlB,EA2CvBmB,KAAI,EAACC,MAAEA,EAAKvB,KAAEA,KACN,mGAEwCuB,EAAMC,qBAAqBxB,EAAKyB,uFACtCzB,EAAKyB,+CAI/CC,KAAK,MAhDFd,EAAYS,mBACV,YAkDV,SAA2BM,GACzB,OAAOA,EACJL,KAAI,EAACC,MAAEA,EAAKvB,KAAEA,EAAI4B,QAAEA,EAAOC,WAAEA,EAAUC,UAAEA,KACjC,gDACgCP,EAAMC,oBACtCxB,EAAKyB,0HAGJzB,EAAKyB,oFAE6CG,gFACGC,+EACDE,OAAOC,OAC3DF,yCAKTJ,KAAK,IAnEAO,CAAkB9B,IAEpBa,QAAQC,IAAI,UAAWd,OAG1B+B,OAAM,KACLlB,QAAQC,IAAI,4CAEL","sources":["src/fetchCountries.js","src/index.js"],"sourcesContent":["export { fetchCountries };\n\nfunction fetchCountries(name) {\n  const url = `https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`;\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","// НЕ НАЛАШТОВУЄТЬСЯ ІМПРОРТ ФАЙЛІВ!!!!!!!!!!!!!!!!\n// HELP!!!!!!!!!!!!!!!\n\nimport './css/styles.css';\n// import Notiflix from '../node_modules/notiflix';\n// import Notiflix from '../node_modules';\nimport { fetchCountries } from './fetchCountries.js';\n// import throttle from 'lodash.debounce';\n// import throttle from '../node_modules';\n// var debounce = require('lodash.debounce');\n\nconst DEBOUNCE_DELAY = 300;\n\nconst searchForm = document.querySelector('#search-box');\nconst countryList = document.querySelector('.country-list');\nconst countryInfo = document.querySelector('.country-info');\n\nsearchForm.addEventListener('input', onSearch);\n\n// searchForm.addEventListener('input', debounce(onSearch, DEBOUNCE_DELAY));\n\n// searchForm.addEventListener(\n//   'input',\n//   _.debounce(() => {\n//     onSearch;\n//   }, DEBOUNCE_DELAY)\n// );\n\nfunction onSearch(evt) {\n  evt.preventDefault();\n  console.log('START 1');\n\n  const name = searchForm.value;\n\n  if (name === '') {\n    return (countryList.innerHTML = ''), (countryInfo.innerHTML = '');\n  }\n  fetchCountries(name)\n    .then(response => {\n      countryList.innerHTML = '';\n      countryInfo.innerHTML = '';\n      console.log(response);\n\n      if (response.length > 10) {\n        // Notiflix.Notify.info(\n        //   'Too many matches found. Please enter a more specific name.'\n        // );\n        console.log(\n          'Too many matches found. Please enter a more specific name.'\n        );\n        console.log('START 2', response);\n      } else if (response.length < 10 && response.length >= 2) {\n        countryList.insertAdjacentHTML(\n          'beforeend',\n          renderCountryList(response)\n        );\n      } else {\n        countryInfo.insertAdjacentHTML(\n          'beforeend',\n          renderCountryInfo(response)\n        );\n        console.log('START 3', response);\n      }\n    })\n    .catch(() => {\n      console.log('Oops, there is no country with that name');\n      // Notiflix.Notify.failure('Oops, there is no country with that name');\n      return [];\n    });\n}\n\n// function fetchCountries(name) {\n//   return fetch(\n//     `https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`\n//   ).then(response => {\n//     if (!response.ok) {\n//       throw new Error(response.status);\n//     }\n//     return response.json();\n//   });\n// }\n\n// function fetchCountries(name) {\n//   return fetch(\n//     `https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`\n//     // `https://restcountries.com/v3.1/name/peru?fields=name,capital,population,flags,languages`\n//   )\n//     .then(response => {\n//       return response.json();\n//     })\n//     .then(console.log);\n// }\n\n// Функції рендерить інформацію для користувача\n\nfunction renderCountryList(countries) {\n  return countries\n    .map(({ flags, name }) => {\n      return `\n          <li class=\"country-list__item\">\n              <img class=\"country-list__flag\" src=\"${flags.svg}\" alt=\"Flag of ${name.official}\" width = 50px height = 50px>\n              <h2 class=\"country-list__name\">${name.official}</h2>\n          </li>\n          `;\n    })\n    .join('');\n}\n\nfunction renderCountryInfo(countries) {\n  return countries\n    .map(({ flags, name, capital, population, languages }) => {\n      return `\n      <img width=\"50px\" height=\"50px\" src='${flags.svg}'\n      alt='${name.official} flag' />\n        <ul class=\"country-info__list\">\n            <li class=\"country-info__item\"><p><b>Name: </b>${\n              name.official\n            }</p></li>\n            <li class=\"country-info__item\"><p><b>Capital: </b>${capital}</p></li>\n            <li class=\"country-info__item\"><p><b>Population: </b>${population}</p></li>\n            <li class=\"country-info__item\"><p><b>Languages: </b>${Object.values(\n              languages\n            )}</p></li>\n        </ul>\n        `;\n    })\n    .join('');\n}\n"],"names":["$c584ef0d490f0a58$export$1d1c4391ecac81e8","name","fetch","then","response","ok","Error","status","json","$1f0dc3b9307be026$var$searchForm","document","querySelector","$1f0dc3b9307be026$var$countryList","$1f0dc3b9307be026$var$countryInfo","addEventListener","evt","preventDefault","console","log","value","innerHTML","length","insertAdjacentHTML","map","flags","svg","official","join","countries","capital","population","languages","Object","values","$1f0dc3b9307be026$var$renderCountryInfo","catch"],"version":3,"file":"index.2a4b9d12.js.map"}